(function(e){function t(t){for(var s,o,i=t[0],u=t[1],l=t[2],d=0,c=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&c.push(r[o][0]),r[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);f&&f(t);while(c.length)c.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(s=!1)}s&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var s={},o={index:0},r={index:0},a=[];function i(e){return u.p+"js/"+({"lang-de-json":"lang-de-json",special:"special"}[e]||e)+".js"}function u(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={special:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var s="css/"+({"lang-de-json":"lang-de-json",special:"special"}[e]||e)+".css",r=u.p+s,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var l=a[i],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===r))return t()}var c=document.getElementsByTagName("style");for(i=0;i<c.length;i++){l=c[i],d=l.getAttribute("data-href");if(d===s||d===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var s=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete o[e],f.parentNode.removeChild(f),n(a)},f.href=r;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){o[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,n){s=r[e]=[t,n]}));t.push(s[2]=a);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(e);var c=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",c.name="ChunkLoadError",c.type=s,c.request=o,n[1](c)}r[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=s,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)u.d(n,s,function(t){return e[t]}.bind(null,s));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="vue/",u.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var f=d;a.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app",role:"main"}},[e.assessInfoLoaded?e._e():n("div",[e._v(" "+e._s(e.$t("loading"))+" ")]),e.assessInfoLoaded?n("router-view"):e._e(),e.hasError?n("error-dialog",{attrs:{errormsg:e.errorMsg},on:{clearerror:e.clearError}}):e._e(),e.showDueDialog?n("due-dialog"):e._e(),null!==e.confirmObj?n("confirm-dialog",{attrs:{data:e.confirmObj},on:{close:e.closeConfirm}}):e._e()],1)},r=[],a=(n("b0c0"),n("b64b"),n("6081")),i=n("619f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrap",staticClass:"fullwrap"},[n("div",{staticClass:"dialog-overlay",attrs:{tabindex:"-1"}},[n("div",{ref:"dialog",staticClass:"dialog",attrs:{role:"alertdialog","aria-modal":"true","aria-labelledby":"duedialog_hdr","aria-describedby":"duedialog_body",tabindex:"-1"},on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"pane-header flexrow",attrs:{id:"duedialog_hdr"}},[n("div",{staticStyle:{"flex-grow":"1"}},[n("icons",{attrs:{name:"alert"}}),e._v(" "+e._s(e.$t("duedialog.due"))+" ")],1)]),n("div",{staticClass:"pane-body",attrs:{id:"duedialog_body"}},[n("p",[e._v(" "+e._s(e.$t("duedialog.nowdue"))+" ")]),e.settings.can_use_latepass>0?n("p",[e._v(" "+e._s(e.$tc("closed.latepassn",e.settings.latepasses_avail))+" "),n("br"),e._v(" "+e._s(e.latepassExtendMsg)+" "),n("br"),n("button",{staticClass:"primary",on:{click:e.useLatepass}},[e._v(" "+e._s(e.$tc("closed.use_latepass",this.settings.can_use_latepass))+" ")])]):e._e(),e.hasUnsubmitted?n("p",[e._v(" "+e._s(e.unsubmittedMessage)+" "),n("br"),n("button",{staticClass:"primary",on:{click:e.submitNow}},[e._v(" "+e._s(e.$t("duedialog.submitnow"))+" ")])]):e._e(),n("p",[n("button",{class:{primary:e.exitPrimary,secondary:!e.exitPrimary},on:{click:e.exit}},[e._v(" "+e._s(e.$t("closed.exit"))+" ")])])])])])])},l=[],d=n("f05b"),c=n("649c"),f=n.n(c),b={name:"DueDialog",data:function(){return{dialog:null}},components:{Icons:d["a"]},computed:{settings:function(){return a["b"].assessInfo},latepassExtendMsg:function(){return this.$tc("closed.latepass_needed",this.settings.can_use_latepass,{n:this.settings.can_use_latepass,date:this.settings.latepass_extendto_disp})},hasUnsubmitted:function(){return"by_assessment"===this.settings.submitby||Object.keys(a["a"].getChangedQuestions()).length>0},unsubmittedMessage:function(){return"by_question"===this.settings.submitby?this.$t("duedialog.byq_unsubmitted"):this.$t("duedialog.bya_unsubmitted")},exitPrimary:function(){return!this.hasUnsubmitted&&!this.canUseLatePass}},methods:{closeDialog:function(){a["b"].show_enddate_dialog=!1},submitNow:function(){var e=this;a["a"].endAssess((function(){"by_question"===e.settings.submitby&&e.exit()}))},useLatepass:function(){a["a"].redeemLatePass((function(){a["b"].show_enddate_dialog=!1}))},exit:function(){window.exiturl&&""!==window.exiturl?(a["b"].noUnload=!0,window.location=window.exiturl):a["a"].routeToStart()}},mounted:function(){var e=this,t=a["b"].lastPos;window.$(document).on("keyup.dialog",(function(t){"Escape"===t.key&&e.closeDialog()})),this.dialog=new f.a(this.$refs.wrap),this.dialog.show(),window.innerHeight>2e3&&null!==t&&(this.$refs.dialog.style.top=Math.max(20,t-this.$refs.dialog.offsetHeight)+"px")},beforeDestroy:function(){window.$(document).off("keyup.dialog"),this.dialog.destroy()}},p=b,g=n("2877"),h=Object(g["a"])(p,u,l,!1,null,null,null),m=h.exports,_=n("96ec"),w=(n("6e40"),{components:{ErrorDialog:i["a"],DueDialog:m,ConfirmDialog:_["a"]},data:function(){return{prewarned:!1}},computed:{assessInfoLoaded:function(){return null!==a["b"].assessInfo},hasError:function(){return null!==a["b"].errorMsg},errorMsg:function(){return a["b"].errorMsg},confirmObj:function(){return a["b"].confirmObj},assessName:function(){return a["b"].assessInfo.name},showDueDialog:function(){return a["b"].show_enddate_dialog}},methods:{beforeUnload:function(e){a["b"].autosaveQueue.length>0&&a["a"].submitAutosave(!1);var t=!0;if(a["b"].assessInfo.hasOwnProperty("questions")){var n=0,s=a["b"].assessInfo.questions.length;for(var o in a["b"].assessInfo.questions)a["b"].assessInfo.questions[o].try>0&&n++;n===s&&(t=!1)}if(a["b"].noUnload);else{if(!a["b"].inProgress&&Object.keys(a["b"].work).length>0&&!this.prewarned)return e.preventDefault(),this.prewarned=!1,this.$t("unload.unsubmitted_work");if(a["b"].inProgress){if(Object.keys(a["a"].getChangedQuestions()).length>0&&!this.prewarned)return e.preventDefault(),this.prewarned=!1,this.$t("unload.unsubmitted_questions");if("by_assessment"===a["b"].assessInfo.submitby&&a["b"].assessInfo.has_active_attempt&&!this.prewarned)return e.preventDefault(),t?this.$t("unload.unsubmitted_assessment"):this.$t("unload.unsubmitted_done_assessment")}else;}this.prewarned=!1},clearError:function(){a["b"].errorMsg=null},closeConfirm:function(){a["b"].confirmObj=null}},created:function(){window.$(document).on("click",(function(e){a["b"].lastPos=e.pageY})),window.$(document).on("focusin",(function(e){a["b"].lastPos=e.target.getBoundingClientRect().top})),window.$(window).on("beforeunload",this.beforeUnload);var e=this;window.$("a").not('#app a, a[href="#"]').on("click",(function(t){return"by_assessment"===a["b"].assessInfo.submitby&&a["b"].assessInfo.has_active_attempt?(t.preventDefault(),a["b"].confirmObj={body:"unload.unsubmitted_assessment",action:function(){e.prewarned=!0,window.location=t.target.href}},!1):!a["b"].inProgress&&Object.keys(a["b"].work).length>0?(t.preventDefault(),a["b"].confirmObj={body:"unload.unsubmitted_work",action:function(){e.prewarned=!0,window.location=t.target.href}},!1):void 0}))}}),v=w,y=(n("034f"),Object(g["a"])(v,o,r,!1,null,null,null)),x=y.exports,j=n("41cb"),k=n("9225");s["a"].config.productionTip=!1,n.p=window.imasroot+"/assess2/vue/",new s["a"]({router:j["a"],i18n:k["a"],render:function(e){return e(x)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=index.js.map